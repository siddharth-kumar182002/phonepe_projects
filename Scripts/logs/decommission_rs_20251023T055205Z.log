2025-10-23 11:22:05,115 [INFO] AUDIT: {"timestamp_utc": "2025-10-23T05:52:05.115324Z", "user": "siddharth5.intern", "action": "decommission_request", "details": {"host": "stg-hdpsiddharth102.phonepe.nb6"}}
2025-10-23 11:22:05,115 [INFO] Performing pre-decommission checks...
2025-10-23 11:22:05,120 [INFO] Connecting to stg-hdpsiddharth104.phonepe.nb6(10.57.40.171):2181, use_ssl: False
2025-10-23 11:22:05,192 [INFO] Zookeeper connection established, state: CONNECTED
2025-10-23 11:22:05,241 [INFO] Closing connection to stg-hdpsiddharth104.phonepe.nb6:2181
2025-10-23 11:22:05,241 [INFO] Zookeeper session closed, state: CLOSED
2025-10-23 11:22:05,241 [INFO] ZooKeeper check result: OK=True, Details={'state': 'CONNECTED', 'server_version': (3, 5, 10)}
2025-10-23 11:22:05,244 [INFO] Connecting to stg-hdpsiddharth104.phonepe.nb6(10.57.40.171):2181, use_ssl: False
2025-10-23 11:22:05,289 [INFO] Zookeeper connection established, state: CONNECTED
2025-10-23 11:22:05,334 [INFO] Found meta-region-server at stg-hdpsiddharth104.phonepe.nb6 from ZK (regex match).
2025-10-23 11:22:05,335 [INFO] Closing connection to stg-hdpsiddharth104.phonepe.nb6:2181
2025-10-23 11:22:05,335 [INFO] Zookeeper session closed, state: CLOSED
2025-10-23 11:22:05,335 [INFO] hbase:meta region is hosted on: stg-hdpsiddharth104.phonepe.nb6
2025-10-23 11:22:05,335 [INFO] Target server stg-hdpsiddharth102.phonepe.nb6 does not host hbase:meta. Safe to proceed.
2025-10-23 11:22:05,335 [INFO] Checking for regions hosted on stg-hdpsiddharth102.phonepe.nb6 using HappyBase meta scan...
2025-10-23 11:22:05,550 [INFO] No user regions found hosted on server stg-hdpsiddharth102.phonepe.nb6. Proceeding directly to stop the component.
2025-10-23 11:22:05,551 [INFO] Proceeding to stop the HBase RegionServer component on stg-hdpsiddharth102.phonepe.nb6 via Ambari...
2025-10-23 11:22:05,711 [INFO] Ambari action requested to stop HBASE_REGIONSERVER on stg-hdpsiddharth102.phonepe.nb6.
2025-10-23 11:22:05,712 [INFO] Allowing some time for Ambari to process the stop command...
2025-10-23 11:22:15,711 [INFO] Performing post-decommission checks...
2025-10-23 11:22:15,719 [INFO] Connecting to stg-hdpsiddharth102.phonepe.nb6(10.57.40.169):2181, use_ssl: False
2025-10-23 11:22:15,791 [INFO] Zookeeper connection established, state: CONNECTED
2025-10-23 11:22:15,836 [INFO] Closing connection to stg-hdpsiddharth102.phonepe.nb6:2181
2025-10-23 11:22:15,837 [INFO] Zookeeper session closed, state: CLOSED
2025-10-23 11:22:15,839 [INFO] Host stg-hdpsiddharth102.phonepe.nb6 successfully confirmed removed from ZooKeeper /rs list.
2025-10-23 11:22:15,839 [INFO] Decommission flow completed for stg-hdpsiddharth102.phonepe.nb6 in 10.72 seconds.
2025-10-23 11:22:15,839 [INFO] AUDIT: {"timestamp_utc": "2025-10-23T05:52:15.839745Z", "user": "siddharth5.intern", "action": "decommission_complete", "details": {"host": "stg-hdpsiddharth102.phonepe.nb6", "duration_seconds": 10.723796844482422}}
2025-10-23 11:22:15,841 [INFO] Report written to logs/report_decommission_1761198735.json
